# Budgo - Quáº£n lÃ½ nhÃ³m vÃ  chuyáº¿n Ä‘i

á»¨ng dá»¥ng web quáº£n lÃ½ nhÃ³m, chuyáº¿n Ä‘i vÃ  chia sáº» chi phÃ­ má»™t cÃ¡ch minh báº¡ch vÃ  dá»… dÃ ng. ÄÆ°á»£c xÃ¢y dá»±ng vá»›i Next.js 15, TypeScript vÃ  Firebase.

## ğŸš€ TÃ­nh nÄƒng chÃ­nh

### ğŸ‘¥ Quáº£n lÃ½ nhÃ³m
- **Táº¡o nhÃ³m**: Public, Close hoáº·c Secret
- **Quáº£n lÃ½ thÃ nh viÃªn**: ThÃªm/xÃ³a thÃ nh viÃªn, phÃ¢n quyá»n Owner/Member
- **YÃªu cáº§u tham gia**: Duyá»‡t yÃªu cáº§u tham gia cho nhÃ³m Close
- **Slug duy nháº¥t**: Má»—i nhÃ³m cÃ³ slug riÃªng Ä‘á»ƒ truy cáº­p dá»… dÃ ng

### ğŸ—ºï¸ Quáº£n lÃ½ chuyáº¿n Ä‘i
- **Chuyáº¿n Ä‘i cÃ¡ nhÃ¢n**: Táº¡o chuyáº¿n Ä‘i riÃªng tÆ°
- **Chuyáº¿n Ä‘i nhÃ³m**: Táº¡o chuyáº¿n Ä‘i thuá»™c vá» nhÃ³m
- **ThÃ´ng tin chi tiáº¿t**: TÃªn, mÃ´ táº£, ngÃ y báº¯t Ä‘áº§u/káº¿t thÃºc, Ä‘á»‹a Ä‘iá»ƒm
- **Äa tiá»n tá»‡**: Há»— trá»£ VND vÃ  USD
- **Tráº¡ng thÃ¡i**: Active/Closed vá»›i kháº£ nÄƒng khÃ³a chuyáº¿n Ä‘i

### ğŸ’° Chia sáº» chi phÃ­
- **Ghi nháº­n chi phÃ­**: ThÃªm chi phÃ­ vá»›i mÃ´ táº£, danh má»¥c, ngÆ°á»i tráº£
- **PhÆ°Æ¡ng thá»©c chia**: Chia Ä‘á»u hoáº·c theo trá»ng sá»‘
- **Loáº¡i trá»« thÃ nh viÃªn**: CÃ³ thá»ƒ loáº¡i trá»« má»™t sá»‘ thÃ nh viÃªn khá»i chi phÃ­
- **Táº¡m á»©ng**: Quáº£n lÃ½ táº¡m á»©ng cá»§a cÃ¡c thÃ nh viÃªn
- **Quyáº¿t toÃ¡n tá»± Ä‘á»™ng**: TÃ­nh toÃ¡n cÃ´ng ná»£ vÃ  Ä‘á» xuáº¥t hoÃ n tráº£

### ğŸ“Š BÃ¡o cÃ¡o vÃ  xuáº¥t dá»¯ liá»‡u
- **TÃ³m táº¯t tÃ i chÃ­nh**: Tá»•ng chi phÃ­, táº¡m á»©ng, cÃ´ng ná»£
- **Xuáº¥t CSV/PDF**: BÃ¡o cÃ¡o chi tiáº¿t cho tá»«ng chuyáº¿n Ä‘i
- **Lá»‹ch sá»­ giao dá»‹ch**: Theo dÃµi táº¥t cáº£ chi phÃ­ vÃ  táº¡m á»©ng

### ğŸ”” ThÃ´ng bÃ¡o
- **ThÃ´ng bÃ¡o trong á»©ng dá»¥ng**: Toast notifications vÃ  badge
- **CÃ¡c loáº¡i thÃ´ng bÃ¡o**: YÃªu cáº§u tham gia nhÃ³m, má»i chuyáº¿n Ä‘i, thÃªm chi phÃ­, Ä‘Ã³ng chuyáº¿n Ä‘i
- **Tráº¡ng thÃ¡i Ä‘á»c**: ÄÃ¡nh dáº¥u Ä‘Ã£ Ä‘á»c/chÆ°a Ä‘á»c

### ğŸ‘¤ Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
- **ÄÄƒng nháº­p Google**: XÃ¡c thá»±c nhanh vÃ  an toÃ n
- **Há»“ sÆ¡ cÃ¡ nhÃ¢n**: TÃªn, avatar, username, ngÃ y sinh
- **Danh hiá»‡u**: Há»‡ thá»‘ng vote danh hiá»‡u cho thÃ nh viÃªn
- **CÃ i Ä‘áº·t**: NgÃ´n ngá»¯, Ä‘Æ¡n vá»‹ tiá»n tá»‡ máº·c Ä‘á»‹nh

### ğŸ›¡ï¸ Báº£o máº­t vÃ  quyá»n
- **RBAC**: PhÃ¢n quyá»n Owner/Member cho nhÃ³m vÃ  chuyáº¿n Ä‘i
- **Firestore Rules**: Kiá»ƒm soÃ¡t truy cáº­p dá»¯ liá»‡u
- **Audit logs**: Ghi láº¡i cÃ¡c thao tÃ¡c quan trá»ng

## ğŸ› ï¸ Tech Stack

### Frontend
- **Next.js 15**: App Router, Server Components, Server Actions
- **TypeScript**: Type safety vÃ  developer experience
- **TailwindCSS**: Utility-first CSS framework
- **shadcn/ui**: Component library vá»›i Radix UI
- **Lucide React**: Icon library

### Backend & Database
- **Firebase Auth**: XÃ¡c thá»±c ngÆ°á»i dÃ¹ng vá»›i Google OAuth
- **Firestore**: NoSQL database cho dá»¯ liá»‡u thá»i gian thá»±c
- **Firebase Admin SDK**: Server-side operations

### Development & Deployment
- **Vercel**: Hosting vÃ  CI/CD
- **GitHub**: Version control
- **ESLint**: Code linting
- **Turbopack**: Fast bundling

## ğŸ“ Cáº¥u trÃºc dá»± Ã¡n

```
src/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ (auth)/                   # Auth-related pages
â”‚   â”‚   â”œâ”€â”€ login/               # ÄÄƒng nháº­p
â”‚   â”‚   â””â”€â”€ onboarding/          # Táº¡o tÃ i khoáº£n
â”‚   â”œâ”€â”€ dashboard/               # Trang chÃ­nh
â”‚   â”œâ”€â”€ groups/                  # Quáº£n lÃ½ nhÃ³m
â”‚   â”‚   â”œâ”€â”€ create/             # Táº¡o nhÃ³m
â”‚   â”‚   â””â”€â”€ manage/             # Quáº£n lÃ½ nhÃ³m
â”‚   â”œâ”€â”€ trips/                   # Quáº£n lÃ½ chuyáº¿n Ä‘i
â”‚   â”‚   â”œâ”€â”€ create/             # Táº¡o chuyáº¿n Ä‘i
â”‚   â”‚   â”œâ”€â”€ manage/             # Quáº£n lÃ½ chuyáº¿n Ä‘i
â”‚   â”‚   â””â”€â”€ [slug]/             # Chi tiáº¿t chuyáº¿n Ä‘i
â”‚   â”œâ”€â”€ profiles/               # Há»“ sÆ¡ ngÆ°á»i dÃ¹ng
â”‚   â”œâ”€â”€ admin/                   # Khu vá»±c quáº£n trá»‹
â”‚   â”œâ”€â”€ notifications/           # ThÃ´ng bÃ¡o
â”‚   â””â”€â”€ api/                     # API routes
â”œâ”€â”€ components/                   # React components
â”‚   â”œâ”€â”€ auth/                   # Authentication components
â”‚   â”œâ”€â”€ ui/                     # UI components (shadcn/ui)
â”‚   â”œâ”€â”€ ExpensesPage.tsx        # Trang chi phÃ­
â”‚   â”œâ”€â”€ TripCreateForm.tsx      # Form táº¡o chuyáº¿n Ä‘i
â”‚   â””â”€â”€ Header.tsx              # Header component
â”œâ”€â”€ lib/                        # Utilities vÃ  logic
â”‚   â”œâ”€â”€ actions/                # Server actions
â”‚   â”œâ”€â”€ utils/                  # Utility functions
â”‚   â”œâ”€â”€ types.ts               # TypeScript types
â”‚   â”œâ”€â”€ firebase.ts            # Firebase config
â”‚   â””â”€â”€ auth.ts                # Auth functions
â””â”€â”€ hooks/                      # Custom React hooks
```

## ğŸš€ CÃ i Ä‘áº·t vÃ  cháº¡y

### 1. Clone repository

```bash
git clone https://github.com/chuotbeo8x/budgo.git
cd budgo
```

### 2. CÃ i Ä‘áº·t dependencies

```bash
npm install
```

### 3. Cáº¥u hÃ¬nh Firebase

1. Táº¡o project Firebase táº¡i [Firebase Console](https://console.firebase.google.com/)
2. Báº­t Authentication vá»›i Google Sign-in
3. Táº¡o Firestore database
4. Táº¡o Service Account vÃ  download key JSON
5. Copy file `env.example` thÃ nh `.env.local`:

```bash
cp env.example .env.local
```

6. Äiá»n thÃ´ng tin Firebase vÃ o `.env.local`:

```env
# Firebase Client Config
NEXT_PUBLIC_FIREBASE_API_KEY=your_api_key_here
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project_id.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project_id.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
NEXT_PUBLIC_FIREBASE_APP_ID=your_app_id

# Firebase Admin SDK
FIREBASE_CLIENT_EMAIL=your_service_account_email
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nyour_private_key\n-----END PRIVATE KEY-----"
```

### 4. Cáº¥u hÃ¬nh Firestore Rules

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Users can read/write their own profile
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // Groups: owner can read/write, members can read
    match /groups/{groupId} {
      allow read: if request.auth != null && 
        (resource.data.ownerId == request.auth.uid || 
         request.auth.uid in resource.data.memberIds);
      allow write: if request.auth != null && 
        resource.data.ownerId == request.auth.uid;
    }
    
    // Trips: owner and members can read, owner can write
    match /trips/{tripId} {
      allow read: if request.auth != null && 
        (resource.data.ownerId == request.auth.uid || 
         request.auth.uid in resource.data.memberIds);
      allow write: if request.auth != null && 
        resource.data.ownerId == request.auth.uid;
    }
  }
}
```

### 5. Cháº¡y á»©ng dá»¥ng

```bash
# Development
npm run dev

# Production build
npm run build
npm start
```

Má»Ÿ [http://localhost:3000](http://localhost:3000) Ä‘á»ƒ xem á»©ng dá»¥ng.

## ğŸ“Š Data Models

### User
```typescript
interface User {
  id: string;
  googleUid: string;
  name: string;
  email: string;
  avatar: string;
  username: string;
  birthday?: Date;
  createdAt: Date;
}
```

### Group
```typescript
interface Group {
  id: string;
  name: string;
  description?: string;
  type: 'public' | 'close' | 'secret';
  ownerId: string;
  slug: string;
  memberIds: string[];
  createdAt: Date;
}
```

### Trip
```typescript
interface Trip {
  id: string;
  name: string;
  description?: string;
  currency: 'VND' | 'USD';
  ownerId: string;
  groupId?: string;
  status: 'active' | 'closed';
  slug: string;
  startDate?: Date;
  endDate?: Date;
  destination?: string;
  statsCache: {
    totalAdvance: number;
    totalExpense: number;
    computedAt: Date;
  };
}
```

### Expense
```typescript
interface Expense {
  id: string;
  tripId: string;
  amount: number;
  paidBy: string;
  splitMethod: 'equal' | 'weight';
  weightMap?: WeightEntry[];
  exclusions?: string[];
  category?: string;
  description?: string;
  createdAt: Date;
  createdBy: string;
}
```

## ğŸ”§ Scripts

```bash
# Development
npm run dev                 # Cháº¡y development server
npm run build             # Build production
npm run start             # Cháº¡y production server

# Beta deployment
npm run build:beta        # Build cho beta environment
npm run deploy:beta       # Deploy lÃªn Firebase Hosting

# Code quality
npm run lint              # ESLint checking
```

## ğŸŒ Deployment

### Vercel (Recommended)
1. Connect GitHub repository vá»›i Vercel
2. Cáº¥u hÃ¬nh environment variables
3. Deploy tá»± Ä‘á»™ng tá»« main branch

### Firebase Hosting
```bash
npm run build:beta
npm run deploy:beta
```

## ğŸ§ª Testing

Truy cáº­p [http://localhost:3000/help](http://localhost:3000/help) Ä‘á»ƒ xem hÆ°á»›ng dáº«n vÃ  giáº£i Ä‘Ã¡p cÃ¡c váº¥n Ä‘á» thÆ°á»ng gáº·p.

## ğŸ“ˆ Roadmap

### âœ… MVP (HoÃ n thÃ nh)
- [x] Google Sign-in
- [x] Táº¡o tÃ i khoáº£n vá»›i username slug
- [x] Táº¡o nhÃ³m (Public/Close/Secret)
- [x] Tham gia nhÃ³m
- [x] Táº¡o chuyáº¿n Ä‘i cÃ¡ nhÃ¢n/nhÃ³m
- [x] Quáº£n lÃ½ thÃ nh viÃªn chuyáº¿n Ä‘i
- [x] Ghi nháº­n chi phÃ­ vÃ  táº¡m á»©ng
- [x] Quyáº¿t toÃ¡n tá»± Ä‘á»™ng
- [x] Xuáº¥t bÃ¡o cÃ¡o CSV/PDF
- [x] Há»‡ thá»‘ng thÃ´ng bÃ¡o
- [x] Admin panel

### ğŸš§ Post-MVP
- [ ] Mobile app (React Native)
- [ ] Real-time collaboration
- [ ] Advanced analytics
- [ ] Multi-language support
- [ ] Premium features
- [ ] API for third-party integrations

## ğŸ¤ ÄÃ³ng gÃ³p

1. Fork repository
2. Táº¡o feature branch (`git checkout -b feature/amazing-feature`)
3. Commit changes (`git commit -m 'Add amazing feature'`)
4. Push to branch (`git push origin feature/amazing-feature`)
5. Táº¡o Pull Request

## ğŸ“„ License

MIT License - xem file [LICENSE](LICENSE) Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t.

## ğŸ“ Há»— trá»£

- **Documentation**: [http://localhost:3000/help](http://localhost:3000/help)
- **Issues**: [GitHub Issues](https://github.com/chuotbeo8x/budgo/issues)
- **Email**: [Your contact email]

---

**Budgo** - Quáº£n lÃ½ nhÃ³m vÃ  chuyáº¿n Ä‘i má»™t cÃ¡ch thÃ´ng minh! ğŸš€